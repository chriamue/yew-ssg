<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.23">
<title>Architecture Documentation</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/*! Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment the following line when using as a custom stylesheet */
/* @import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700"; */
html{font-family:sans-serif;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
b,strong{font-weight:bold}
abbr{font-size:.9em}
abbr[title]{cursor:help;border-bottom:1px dotted #dddddf;text-decoration:none}
dfn{font-style:italic}
hr{height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type=checkbox],input[type=radio]{padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,::before,::after{box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;line-height:1;position:relative;cursor:auto;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-wrap:anywhere;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ul.square{list-style-type:square}
ul.circle ul:not([class]),ul.disc ul:not([class]),ul.square ul:not([class]){list-style:inherit}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:1px solid #dedede;word-wrap:normal}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre).nobreak{word-wrap:normal}
:not(pre).nowrap{white-space:nowrap}
:not(pre).pre-wrap{white-space:pre-wrap}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;border-radius:3px;box-shadow:0 1px 0 rgba(0,0,0,.2),inset 0 0 0 .1em #fff;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin:0 auto;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child{border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:flex;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border:1px solid #e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:none;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:hsla(0,0%,100%,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details{margin-left:1.25rem}
details>summary{cursor:pointer;display:block;position:relative;line-height:1.6;margin-bottom:.625rem;outline:none;-webkit-tap-highlight-color:transparent}
details>summary::-webkit-details-marker{display:none}
details>summary::before{content:"";border:solid transparent;border-left:solid;border-width:.3em 0 .3em .5em;position:absolute;top:.5em;left:-1.25rem;transform:translateX(15%)}
details[open]>summary::before{border:solid transparent;border-top:solid;border-width:.5em .3em 0;transform:translateY(15%)}
details>summary::after{content:"";width:1.25rem;height:1em;position:absolute;top:.3em;left:-1.25rem}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class=paragraph]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6);word-wrap:anywhere}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border:1px solid #e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;border-radius:4px}
.sidebarblock{border:1px solid #dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;border-radius:4px}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:first-child,.sidebarblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child,.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{border-radius:4px;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class=highlight],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos,pre.pygments .linenos{border-right:1px solid;opacity:.35;padding-right:.5em;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}
pre.pygments span.linenos{display:inline-block;margin-right:.75em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans-serif;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;font-size:.85rem;text-align:left;margin-right:0}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content{margin-bottom:1.25em;word-wrap:anywhere}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>*>tr>*{border-width:1px}
table.grid-cols>*>tr>*{border-width:0 1px}
table.grid-rows>*>tr>*{border-width:1px 0}
table.frame-all{border-width:1px}
table.frame-ends{border-width:1px 0}
table.frame-sides{border-width:0 1px}
table.frame-none>colgroup+*>:first-child>*,table.frame-sides>colgroup+*>:first-child>*{border-top-width:0}
table.frame-none>:last-child>:last-child>*,table.frame-sides>:last-child>:last-child>*{border-bottom-width:0}
table.frame-none>*>tr>:first-child,table.frame-ends>*>tr>:first-child{border-left-width:0}
table.frame-none>*>tr>:last-child,table.frame-ends>*>tr>:last-child{border-right-width:0}
table.stripes-all>*>tr,table.stripes-odd>*>tr:nth-of-type(odd),table.stripes-even>*>tr:nth-of-type(even),table.stripes-hover>*>tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
li>p:empty:only-child::before{content:"";display:inline-block}
ul.checklist>li>p:first-child{margin-left:-1em}
ul.checklist>li>p:first-child>.fa-square-o:first-child,ul.checklist>li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist>li>p:first-child>input[type=checkbox]:first-child{margin-right:.25em}
ul.inline{display:flex;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
td.hdlist2{word-wrap:anywhere}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:4px solid #fff;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active,#footnotes .footnote a:first-of-type:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);border-radius:50%;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt,summary{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,td.hdlist1,span.alt,summary{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]{border-bottom:1px dotted}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#header,#content,#footnotes,#footer{max-width:none}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media amzn-kf8,print{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article">
<div id="header">
<h1><span class="image"><img src="./images/yew-ssg-logo.png" alt="yew-ssg"></span> Architecture Documentation</h1>
<div class="details">
<span id="revnumber">version 0.1.0,</span>
<span id="revdate">April 2025</span>
<br><span id="revremark">(Initial Documentation)</span>
</div>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_core_features">Core Features</a></li>
<li><a href="#_benefits">Benefits</a></li>
<li><a href="#section-introduction-and-goals">1. Introduction and Goals</a>
<ul class="sectlevel2">
<li><a href="#_requirements_overview">1.1. Requirements Overview</a></li>
<li><a href="#_quality_goals">1.2. Quality Goals</a></li>
<li><a href="#_stakeholders">1.3. Stakeholders</a></li>
</ul>
</li>
<li><a href="#section-architecture-constraints">2. Architecture Constraints</a>
<ul class="sectlevel2">
<li><a href="#_technical_constraints">2.1. Technical Constraints</a></li>
<li><a href="#_organizational_constraints">2.2. Organizational Constraints</a></li>
<li><a href="#_conventions">2.3. Conventions</a></li>
</ul>
</li>
<li><a href="#section-context-and-scope">3. Context and Scope</a>
<ul class="sectlevel2">
<li><a href="#_business_context">3.1. Business Context</a></li>
<li><a href="#_technical_context">3.2. Technical Context</a></li>
</ul>
</li>
<li><a href="#section-solution-strategy">4. Solution Strategy</a>
<ul class="sectlevel2">
<li><a href="#_technology_decisions">4.1. Technology Decisions</a></li>
<li><a href="#_architectural_approach">4.2. Architectural Approach</a></li>
<li><a href="#_quality_strategy">4.3. Quality Strategy</a></li>
<li><a href="#_development_strategy">4.4. Development Strategy</a></li>
</ul>
</li>
<li><a href="#section-building-block-view">5. Building Block View</a>
<ul class="sectlevel2">
<li><a href="#_whitebox_overall_system">5.1. Whitebox Overall System</a></li>
<li><a href="#_level_2">5.2. Level 2</a></li>
<li><a href="#_level_3">5.3. Level 3</a></li>
</ul>
</li>
<li><a href="#section-runtime-view">6. Runtime View</a>
<ul class="sectlevel2">
<li><a href="#_static_site_generation_process">6.1. Static Site Generation Process</a></li>
<li><a href="#_template_processing_sequence">6.2. Template Processing Sequence</a></li>
<li><a href="#_generator_execution_sequence">6.3. Generator Execution Sequence</a></li>
</ul>
</li>
<li><a href="#section-deployment-view">7. Deployment View</a>
<ul class="sectlevel2">
<li><a href="#_infrastructure_level_1">7.1. Infrastructure Level 1</a></li>
<li><a href="#_infrastructure_level_2">7.2. Infrastructure Level 2</a></li>
</ul>
</li>
<li><a href="#section-concepts">8. Cross-cutting Concepts</a>
<ul class="sectlevel2">
<li><a href="#_domain_model">8.1. Domain Model</a></li>
<li><a href="#_generator_processor_pattern">8.2. Generator-Processor Pattern</a></li>
<li><a href="#_template_variable_substitution">8.3. Template Variable Substitution</a></li>
<li><a href="#_attribute_based_templating">8.4. Attribute-Based Templating</a></li>
<li><a href="#_build_process_integration">8.5. Build Process Integration</a></li>
</ul>
</li>
<li><a href="#section-design-decisions">9. Architecture Decisions</a>
<ul class="sectlevel2">
<li><a href="#_adr_1_trait_based_architecture_for_extensibility">9.1. ADR 1: Trait-Based Architecture for Extensibility</a></li>
<li><a href="#_adr_2_generatorprocessor_separation">9.2. ADR 2: Generator/Processor Separation</a></li>
<li><a href="#_adr_3_attribute_based_templating">9.3. ADR 3: Attribute-Based Templating</a></li>
<li><a href="#_adr_4_metadata_driven_generation">9.4. ADR 4: Metadata-Driven Generation</a></li>
<li><a href="#_adr_5_builder_pattern_for_configuration">9.5. ADR 5: Builder Pattern for Configuration</a></li>
</ul>
</li>
<li><a href="#section-quality-scenarios">10. Quality Requirements</a>
<ul class="sectlevel2">
<li><a href="#_quality_tree">10.1. Quality Tree</a></li>
<li><a href="#_quality_scenarios">10.2. Quality Scenarios</a></li>
</ul>
</li>
<li><a href="#section-technical-risks">11. Risks and Technical Debts</a>
<ul class="sectlevel2">
<li><a href="#_identified_risks">11.1. Identified Risks</a></li>
<li><a href="#_technical_debt">11.2. Technical Debt</a></li>
<li><a href="#_riskdebt_matrix">11.3. Risk/Debt Matrix</a></li>
<li><a href="#_risk_monitoring_and_mitigation_plan">11.4. Risk Monitoring and Mitigation Plan</a></li>
</ul>
</li>
<li><a href="#section-glossary">12. Glossary</a></li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<style>
.arc42help {font-size:small; width: 14px; height: 16px; overflow: hidden; position: absolute; right: 0; padding: 2px 0 3px 2px;}
.arc42help::before {content: "?";}
.arc42help:hover {width:auto; height: auto; z-index: 100; padding: 10px;}
.arc42help:hover::before {content: "";}
@media print {
	.arc42help {display:none;}
}
</style>
<div class="paragraph">
<p><strong>About yew-ssg</strong></p>
</div>
<div class="paragraph lead">
<p>yew-ssg is a static site generator for Yew applications that helps you pre-render your Yew apps for better SEO and load times.</p>
</div>
<div class="paragraph">
<p>Version 0.1.0. (Initial Documentation), April 2025</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_core_features">Core Features</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p>Pre-renders Yew applications to static HTML</p>
</li>
<li>
<p>Works with yew-router for multi-page applications</p>
</li>
<li>
<p>Customizable HTML templates with variable substitution</p>
</li>
<li>
<p>Advanced attribute-based templating system</p>
</li>
<li>
<p>Extensible generator plugin system</p>
</li>
<li>
<p>Built-in SEO generators (meta tags, Open Graph, Twitter Cards)</p>
</li>
<li>
<p>Robots meta tag support</p>
</li>
<li>
<p>Flexible processing pipeline</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_benefits">Benefits</h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Better SEO</strong>: Search engines can index your content properly</p>
</li>
<li>
<p><strong>Faster Initial Load</strong>: Users see content immediately without waiting for JavaScript</p>
</li>
<li>
<p><strong>Improved UX</strong>: Eliminates content flickering during initial load</p>
</li>
<li>
<p><strong>Developer Friendly</strong>: Simple API with sensible defaults</p>
</li>
<li>
<p><strong>Flexible</strong>: Adapts to different project requirements</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This architecture documentation follows the arc42 template for consistent, comprehensive technical documentation.</p>
</div>
<hr>
<div class="sidebarblock arc42help">
<div class="content">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="paragraph">
<p>This version of the template contains some help and explanations.
It is used for familiarization with arc42 and the understanding of the concepts.
For documentation of your own system you use better the <em>plain</em> version.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect1">
<h2 id="section-introduction-and-goals">1. Introduction and Goals</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_requirements_overview">1.1. Requirements Overview</h3>
<div class="paragraph">
<p>Yew-SSG is a static site generator for Yew applications, designed to enhance the SEO capabilities and initial loading performance of Rust-based web applications built with the Yew framework.</p>
</div>
<div class="paragraph">
<p>The core functional requirements include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pre-rendering Yew applications to static HTML</p>
</li>
<li>
<p>Supporting multi-page applications via yew-router integration</p>
</li>
<li>
<p>Providing customizable HTML templates with variable substitution</p>
</li>
<li>
<p>Supporting SEO features (meta tags, Open Graph, Twitter Cards)</p>
</li>
<li>
<p>Processing attribute-based templating</p>
</li>
<li>
<p>Supporting extensible generators for custom content</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_goals">1.2. Quality Goals</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 14.2857%;">
<col style="width: 28.5714%;">
<col style="width: 57.1429%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Priority</th>
<th class="tableblock halign-left valign-top">Quality</th>
<th class="tableblock halign-left valign-top">Motivation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEO Optimization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static content must be fully indexable by search engines with proper meta tags</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Fast initial page load by delivering pre-rendered static HTML</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The system must be extendable with custom generators and processors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Ease of Use</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Straightforward API with sensible defaults for common use cases</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clean architecture with separation of concerns and well-defined interfaces</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_stakeholders">1.3. Stakeholders</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Role/Name</th>
<th class="tableblock halign-left valign-top">Contact</th>
<th class="tableblock halign-left valign-top">Expectations</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew Application Developers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Want to enhance their applications with SEO capabilities while maintaining the SPA experience</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEO Specialists</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Need proper meta tags, structured data, and static HTML for search engine optimization</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Developers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Need a flexible system that can be adapted to different project requirements</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project Managers</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Require a solution that doesn&#8217;t significantly increase development complexity</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-architecture-constraints">2. Architecture Constraints</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technical_constraints">2.1. Technical Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rust Ecosystem</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must be built with and for Rust, compatible with Rust&#8217;s ecosystem and tooling</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew Compatibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must support Yew&#8217;s component model and routing system</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebAssembly Support</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Must work with Yew&#8217;s WebAssembly target</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimal Dependencies</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Should minimize dependencies to reduce build time and package size</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_organizational_constraints">2.2. Organizational Constraints</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Constraint</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Source</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Project is open source under MIT license, requiring transparent development</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Community Feedback</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development direction should be influenced by community needs and feedback</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_conventions">2.3. Conventions</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Convention</th>
<th class="tableblock halign-left valign-top">Explanation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rust API Guidelines</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow Rust API design guidelines for consistent, idiomatic interfaces</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Semantic Versioning</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Follow semver for versioning to ensure compatibility understanding</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Every public API must be documented with examples</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-context-and-scope">3. Context and Scope</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_business_context">3.1. Business Context</h3>
<div class="paragraph">
<p>Yew-SSG operates within the context of modern web application development, specifically addressing the challenge of serving single-page applications (SPAs) that are also SEO-friendly and have fast initial loads.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
actor "Developer" as dev
actor "End User" as user
actor "Search Engine" as search

rectangle "Yew Application" as app
rectangle "Yew-SSG" as ssg
rectangle "Web Server" as server
rectangle "Static Files" as static

dev --&gt; app : develops
dev --&gt; ssg : configures
app &lt;-- ssg : pre-renders
ssg --&gt; static : generates
server --&gt; static : serves
user --&gt; server : requests
search --&gt; server : indexes

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Communication Partners:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 40%;">
<col style="width: 40%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Partner</th>
<th class="tableblock halign-left valign-top">Inputs</th>
<th class="tableblock halign-left valign-top">Outputs</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Route definitions, Component structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rendered HTML content</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration, Templates, Metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generated static site</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Web Server</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">N/A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Serves generated static files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search Engine</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Indexes static HTML with meta information</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search ranking</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">End User</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Page requests</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Receives static HTML, then interactive SPA</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_context">3.2. Technical Context</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
node "Yew-SSG" {
  [Static Site Generator]
  [Processors]
  [Generators]
}

database "File System" {
  folder "Output Directory" {
    [Generated HTML]
    [Assets]
  }
}

[Yew Application] --&gt; [Static Site Generator] : routes, components
[Configuration] --&gt; [Static Site Generator] : settings
[HTML Templates] --&gt; [Processors] : template structure
[Metadata] --&gt; [Generators] : content info

[Static Site Generator] --&gt; [Processors] : processes HTML
[Static Site Generator] --&gt; [Generators] : generates content
[Processors] --&gt; [Generated HTML] : outputs
[Generators] --&gt; [Generated HTML] : enhances

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Technical Interfaces:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 50.0001%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew Application</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Code integration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Integration with Yew app via its public API</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">File System</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">File I/O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reads templates, writes generated static files</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rust API</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Programmatic configuration through the Builder pattern</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template Processing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Variable substitution</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processes templates with variable replacement and attribute processing</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-solution-strategy">4. Solution Strategy</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_technology_decisions">4.1. Technology Decisions</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Rust Language</strong>: Chosen for safety, performance, and compatibility with Yew</p>
</li>
<li>
<p><strong>Yew Framework Integration</strong>: Direct integration with Yew&#8217;s SSR capabilities</p>
</li>
<li>
<p><strong>Trait-based Architecture</strong>: Using Rust&#8217;s trait system for extensibility</p>
</li>
<li>
<p><strong>Builder Pattern</strong>: For clean, fluent configuration API</p>
</li>
<li>
<p><strong>Template Processing</strong>: Custom processing with MiniJinja for template rendering</p>
</li>
<li>
<p><strong>HTML Manipulation</strong>: Using lol_html for efficient HTML transformation</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_architectural_approach">4.2. Architectural Approach</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Separation of Concerns</strong>: Clear separation between generators, processors, and the core SSG engine</p>
</li>
<li>
<p><strong>Pipeline Architecture</strong>: Content flows through a series of processing steps</p>
</li>
<li>
<p><strong>Extensible Plugin System</strong>: Trait-based system for creating custom generators and processors</p>
</li>
<li>
<p><strong>Sensible Defaults</strong>: Default implementations provide immediate value while allowing customization</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_quality_strategy">4.3. Quality Strategy</h3>
<div class="ulist">
<ul>
<li>
<p><strong>SEO Optimization</strong>: Built-in generators for common SEO needs (meta tags, Open Graph, etc.)</p>
</li>
<li>
<p><strong>Performance</strong>: Efficient HTML processing with minimal overhead</p>
</li>
<li>
<p><strong>Extensibility</strong>: Well-defined traits for extending functionality</p>
</li>
<li>
<p><strong>Ease of Use</strong>: Builder pattern and sensible defaults make common cases simple</p>
</li>
<li>
<p><strong>Maintainability</strong>: Clean separation of concerns and comprehensive test coverage</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_development_strategy">4.4. Development Strategy</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Test-Driven Development</strong>: Comprehensive test suite for each component</p>
</li>
<li>
<p><strong>Documentation-First</strong>: Detailed documentation with examples</p>
</li>
<li>
<p><strong>Community Feedback</strong>: Iterative improvement based on real-world usage</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-building-block-view">5. Building Block View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_whitebox_overall_system">5.1. Whitebox Overall System</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
package "yew-ssg" {
  [StaticSiteGenerator] as SSG
  [SsgConfig] as Config
  [Generators] as GenCol
  [Processors] as ProcCol

  package "generators" {
    [TitleGenerator]
    [MetaTagGenerator]
    [OpenGraphGenerator]
    [TwitterCardGenerator]
    [RobotsMetaGenerator]
  }

  package "processors" {
    [TemplateVariableProcessor]
    [AttributeProcessor]
  }
}

Config --&gt; SSG : configures
GenCol --&gt; SSG : provides content
ProcCol --&gt; SSG : processes HTML

[TitleGenerator] --&gt; GenCol : implements
[MetaTagGenerator] --&gt; GenCol : implements
[OpenGraphGenerator] --&gt; GenCol : implements
[TwitterCardGenerator] --&gt; GenCol : implements
[RobotsMetaGenerator] --&gt; GenCol : implements

[TemplateVariableProcessor] --&gt; ProcCol : implements
[AttributeProcessor] --&gt; ProcCol : implements

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Motivation:</strong></p>
</div>
<div class="paragraph">
<p>The yew-ssg system is structured around a core StaticSiteGenerator that coordinates the generation process. It uses a configuration (SsgConfig) to determine behavior and leverages collections of generators and processors to create and transform content.</p>
</div>
<div class="paragraph">
<p><strong>Contained Building Blocks:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Responsibility</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">StaticSiteGenerator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Core engine that coordinates the generation process</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SsgConfig</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Configuration for the generator</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeneratorCollection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection of content generators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ProcessorCollection</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Collection of HTML processors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">generators</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementations of different content generators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">processors</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implementations of different HTML processors</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p><strong>Important Interfaces:</strong></p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Interface</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generator trait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface for creating content generators</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processor trait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface for creating HTML processors</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GeneratorOutputSupport trait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interface for documenting generator capabilities</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_level_2">5.2. Level 2</h3>
<div class="sect3">
<h4 id="_white_box_staticsitegenerator">5.2.1. White Box <em>StaticSiteGenerator</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
class StaticSiteGenerator {
  +config: SsgConfig
  -template_env: Environment
  +new(config: SsgConfig) -&gt; Result
  +generate&lt;R, F&gt;(switch_fn: F) -&gt; Result
  -render_route() -&gt; Result
  -wrap_html() -&gt; Result
  -determine_output_path() -&gt; (PathBuf, PathBuf)
}

class SsgConfig {
  +output_dir: PathBuf
  +template_path: Option&lt;PathBuf&gt;
  +default_template: String
  +global_metadata: HashMap
  +route_metadata: HashMap
  +generators: GeneratorCollection
  +processors: ProcessorCollection
}

SsgConfig "1" -- "1" StaticSiteGenerator : configures &gt;
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Responsibility:</strong></p>
</div>
<div class="paragraph">
<p>The StaticSiteGenerator is responsible for orchestrating the entire site generation process:
1. Rendering each route of the Yew application to HTML
2. Applying generators to create SEO content and other outputs
3. Running processors to transform the HTML
4. Writing the final output to files</p>
</div>
<div class="paragraph">
<p><strong>Interfaces:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>new(config: SsgConfig)</code> - Creates a new generator with the given configuration</p>
</li>
<li>
<p><code>generate&lt;R, F&gt;(switch_fn: F)</code> - Generates static HTML for all routes using the provided router switch function</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_generator_system">5.2.2. White Box <em>Generator System</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
interface Generator {
  +name() -&gt; &amp;'static str
  +generate(key, route, content, metadata) -&gt; Result
  +clone_box() -&gt; Box&lt;dyn Generator&gt;
  +as_any() -&gt; &amp;dyn Any
}

class GeneratorCollection {
  -generators: Vec&lt;Box&lt;dyn Generator&gt;&gt;
  +add&lt;G: Generator&gt;(&amp;mut self, generator: G)
  +try_get_output_support() -&gt; Option&lt;&amp;dyn GeneratorOutputSupport&gt;
}

interface GeneratorOutputSupport {
  +supported_outputs() -&gt; Vec&lt;&amp;'static str&gt;
  +supports_output(key: &amp;str) -&gt; bool
}

class TitleGenerator {}
class MetaTagGenerator {
  +default_description: String
  +default_keywords: Vec&lt;String&gt;
}
class OpenGraphGenerator {
  +site_name: String
  +default_image: String
}
class TwitterCardGenerator {
  +twitter_site: Option&lt;String&gt;
  +default_card_type: String
}
class RobotsMetaGenerator {
  +default_robots: String
}

Generator &lt;|.. TitleGenerator
Generator &lt;|.. MetaTagGenerator
Generator &lt;|.. OpenGraphGenerator
Generator &lt;|.. TwitterCardGenerator
Generator &lt;|.. RobotsMetaGenerator

GeneratorOutputSupport &lt;|.. TitleGenerator
GeneratorOutputSupport &lt;|.. MetaTagGenerator
GeneratorOutputSupport &lt;|.. OpenGraphGenerator
GeneratorOutputSupport &lt;|.. TwitterCardGenerator
GeneratorOutputSupport &lt;|.. RobotsMetaGenerator

GeneratorCollection o-- "many" Generator : contains &gt;
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Responsibility:</strong></p>
</div>
<div class="paragraph">
<p>The Generator system is responsible for creating HTML content for various purposes:
1. Title tags
2. Meta tags
3. Open Graph protocol tags
4. Twitter Card tags
5. Robots directives</p>
</div>
<div class="paragraph">
<p>Each generator implements the Generator trait and optionally the GeneratorOutputSupport trait to document its capabilities.</p>
</div>
</div>
<div class="sect3">
<h4 id="_white_box_processor_system">5.2.3. White Box <em>Processor System</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
interface Processor {
  +name() -&gt; &amp;'static str
  +process(html, metadata, generator_outputs, content) -&gt; Result
  +clone_box() -&gt; Box&lt;dyn Processor&gt;
}

class ProcessorCollection {
  -processors: Vec&lt;Box&lt;dyn Processor&gt;&gt;
  +add&lt;P: Processor&gt;(&amp;mut self, processor: P)
  +process_all() -&gt; Result
}

class TemplateVariableProcessor {
  -start_delimiter: String
  -end_delimiter: String
}

class AttributeProcessor {
  -prefix: String
  -generators: Arc&lt;Option&lt;GeneratorCollection&gt;&gt;
}

enum SsgAttribute {
  Attribute(String)
  Content
  Placeholder
}

Processor &lt;|.. TemplateVariableProcessor
Processor &lt;|.. AttributeProcessor

ProcessorCollection o-- "many" Processor : contains &gt;
AttributeProcessor ..&gt; SsgAttribute : uses &gt;

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Responsibility:</strong></p>
</div>
<div class="paragraph">
<p>The Processor system is responsible for transforming HTML:
1. TemplateVariableProcessor replaces template variables like <code>{{title}}</code>
2. AttributeProcessor processes special data-ssg attributes for advanced templating</p>
</div>
<div class="paragraph">
<p>ProcessorCollection manages the execution pipeline, running processors in sequence.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_level_3">5.3. Level 3</h3>
<div class="sect3">
<h4 id="_white_box_attributeprocessor">5.3.1. White Box <em>AttributeProcessor</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
class AttributeProcessor {
  -prefix: String
  -generators: Arc&lt;Option&lt;GeneratorCollection&gt;&gt;
  +new(prefix: &amp;str, generators: Option&lt;GeneratorCollection&gt;) -&gt; Self
  +process() -&gt; Result
  -try_generate_output() -&gt; Result
}

enum SsgAttribute {
  Attribute(String)
  Content
  Placeholder
  +from_str(attr: &amp;str) -&gt; Option&lt;Self&gt;
}

function "process_element()" {
}

AttributeProcessor ..&gt; SsgAttribute : uses &gt;
AttributeProcessor ..&gt; "process_element()" : calls &gt;
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Responsibility:</strong></p>
</div>
<div class="paragraph">
<p>The AttributeProcessor implements advanced HTML templating through data attributes:
1. Processes <code>data-ssg="key"</code> for content replacement
2. Processes <code>data-ssg-attr="key"</code> for attribute value replacement
3. Processes <code>data-ssg-placeholder="key"</code> for complete element replacement</p>
</div>
<div class="paragraph">
<p>It uses the SsgAttribute enum to represent different types of attribute processing and the process_element function to perform the actual HTML transformation.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-runtime-view">6. Runtime View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_static_site_generation_process">6.1. Static Site Generation Process</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
actor Developer
participant "StaticSiteGenerator" as SSG
participant "Yew Router" as Router
participant "Yew Component" as Component
participant "GeneratorCollection" as Generators
participant "ProcessorCollection" as Processors
database "File System" as FS

Developer -&gt; SSG: generate(switch_fn)
loop for each route
  SSG -&gt; Router: Get route path
  SSG -&gt; Component: render_route(route)
  Component --&gt; SSG: rendered HTML

  SSG -&gt; SSG: get_metadata_for_route(route_path)

  loop for each generator
    SSG -&gt; Generators: generate content for route
    Generators --&gt; SSG: generator outputs
  end

  SSG -&gt; Processors: process_all(content, metadata, generator_outputs)
  Processors --&gt; SSG: processed HTML

  SSG -&gt; SSG: wrap_html(content, path, metadata, generator_outputs)

  SSG -&gt; SSG: determine_output_path(route_path)
  SSG -&gt; FS: create_dir_all(dir_path)
  SSG -&gt; FS: write(file_path, html)
end

SSG --&gt; Developer: Ok(())
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>This scenario illustrates the complete process of generating a static site:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The developer initiates the generation process with a route switch function</p>
</li>
<li>
<p>For each route in the application:</p>
<div class="olist loweralpha">
<ol class="loweralpha">
<li>
<p>The route is rendered to HTML using Yew&#8217;s SSR</p>
</li>
<li>
<p>Metadata is collected for the route</p>
</li>
<li>
<p>Generators create content for the route</p>
</li>
<li>
<p>Processors transform the HTML</p>
</li>
<li>
<p>The final HTML is wrapped in a template</p>
</li>
<li>
<p>The output file path is determined</p>
</li>
<li>
<p>The HTML is written to the file system</p>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_template_processing_sequence">6.2. Template Processing Sequence</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
participant "StaticSiteGenerator" as SSG
participant "MiniJinja Template" as Template
participant "TemplateVariableProcessor" as VarProcessor
participant "AttributeProcessor" as AttrProcessor

SSG -&gt; Template: render(context)
Template --&gt; SSG: rendered_template

SSG -&gt; VarProcessor: process(rendered_template, metadata, generator_outputs)
VarProcessor -&gt; VarProcessor: Replace {{variables}}
VarProcessor --&gt; SSG: template_with_vars

SSG -&gt; AttrProcessor: process(template_with_vars, metadata, generator_outputs)
AttrProcessor -&gt; AttrProcessor: Process data-ssg attributes
AttrProcessor --&gt; SSG: final_html

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>This scenario shows how a template is processed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The MiniJinja template is rendered with the context</p>
</li>
<li>
<p>The TemplateVariableProcessor replaces variables like <code>{{title}}</code></p>
</li>
<li>
<p>The AttributeProcessor handles data-ssg attributes</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_generator_execution_sequence">6.3. Generator Execution Sequence</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
participant "StaticSiteGenerator" as SSG
participant "GeneratorCollection" as GenCol
participant "TitleGenerator" as Title
participant "MetaTagGenerator" as Meta
participant "OpenGraphGenerator" as OG

SSG -&gt; GenCol: Get all generators
GenCol --&gt; SSG: generators list

loop for each generator
  SSG -&gt; Title: generate("title", route, content, metadata)
  Title --&gt; SSG: "&lt;title&gt;Page Title&lt;/title&gt;"

  SSG -&gt; Title: Try get supported outputs
  Title --&gt; SSG: ["title", "title_text"]

  loop for each supported output (except main)
    SSG -&gt; Title: generate("title_text", route, content, metadata)
    Title --&gt; SSG: "Page Title"
  end
end

loop for other generators
  SSG -&gt; Meta: generate("meta_tags", ...)
  Meta --&gt; SSG: "&lt;meta&gt;...&lt;/meta&gt;"

  SSG -&gt; OG: generate("open_graph", ...)
  OG --&gt; SSG: "&lt;meta property='og:...'&gt;..."
end

@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Description:</strong></p>
</div>
<div class="paragraph">
<p>This scenario shows how generators are executed:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Each generator is asked to produce its main output (e.g., "title" for TitleGenerator)</p>
</li>
<li>
<p>The generator&#8217;s supported outputs are determined</p>
</li>
<li>
<p>Each additional supported output is generated</p>
</li>
<li>
<p>The process repeats for all generators</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-deployment-view">7. Deployment View</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_infrastructure_level_1">7.1. Infrastructure Level 1</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
node "Development Environment" {
  [Rust Project] as RustProj
  [Yew Application] as YewApp
  [Yew-SSG Library] as YewSSG
  [SSG Binary] as SSGBin

  RustProj --&gt; YewApp : contains
  RustProj --&gt; YewSSG : depends on
  RustProj --&gt; SSGBin : contains
  SSGBin --&gt; YewSSG : uses
  SSGBin --&gt; YewApp : pre-renders
}

node "Build System" {
  [Cargo] as Cargo
  [Build Scripts] as Build

  Cargo --&gt; Build : runs
}

node "Web Server" {
  [Static Files] as Static
  [Index HTML Files] as Index
  [Asset Files] as Assets

  Static --&gt; Index : contains
  Static --&gt; Assets : contains
}

RustProj --&gt; Cargo : built by
SSGBin --&gt; Static : generates
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Motivation:</strong></p>
</div>
<div class="paragraph">
<p>Yew-SSG is deployed as a Rust library that is integrated into a Yew application&#8217;s build process. It generates static HTML files that can be deployed to any web server capable of serving static files.</p>
</div>
<div class="paragraph">
<p><strong>Quality and/or Performance Features:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>The static site generation happens during the build process, not at runtime</p>
</li>
<li>
<p>Generated static files can be deployed to any standard web hosting solution</p>
</li>
<li>
<p>No special server requirements beyond serving static files</p>
</li>
<li>
<p>Built with Rust for performance and safety</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Mapping of Building Blocks to Infrastructure:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Yew-SSG library is imported into the Rust project</p>
</li>
<li>
<p>A binary target in the project uses Yew-SSG to generate static files</p>
</li>
<li>
<p>Generated HTML files are deployed to a web server</p>
</li>
<li>
<p>Client-side Yew application takes over after initial page load</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_infrastructure_level_2">7.2. Infrastructure Level 2</h3>
<div class="sect3">
<h4 id="_development_environment">7.2.1. <em>Development Environment</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
node "Rust Project" {
  folder "src" {
    [App Components]
    [Routing]
    [Main.rs]
  }

  folder "ssg" {
    [SSG Binary]
  }

  folder "static" {
    [CSS]
    [Images]
    [JavaScript]
  }

  [Cargo.toml] as Cargo

  Cargo --&gt; [App Components] : defines
  Cargo --&gt; [SSG Binary] : defines
  [SSG Binary] --&gt; [Routing] : uses
  [Main.rs] --&gt; [App Components] : uses
  [Main.rs] --&gt; [Routing] : uses
}

folder "output" {
  folder "dist" {
    [Generated HTML]
    [Copied Static Assets]
  }
}

[SSG Binary] --&gt; [Generated HTML] : creates
[static] --&gt; [Copied Static Assets] : copied to
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Explanation:</strong></p>
</div>
<div class="paragraph">
<p>The development environment consists of:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A Rust project with:</p>
<div class="ulist">
<ul>
<li>
<p>Application components in the src directory</p>
</li>
<li>
<p>An SSG binary in the ssg directory</p>
</li>
<li>
<p>Static assets (CSS, images, JavaScript)</p>
</li>
<li>
<p>Cargo.toml for dependencies and configuration</p>
</li>
</ul>
</div>
</li>
<li>
<p>During the build process:</p>
<div class="ulist">
<ul>
<li>
<p>The SSG binary pre-renders the application to HTML</p>
</li>
<li>
<p>Static assets are copied to the output directory</p>
</li>
<li>
<p>The output is ready for deployment to a web server</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_web_server_deployment">7.2.2. <em>Web Server Deployment</em></h4>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
node "Web Server" {
  [Static File Server]

  folder "document_root" {
    [index.html] as Root

    folder "about" {
      [index.html] as About
    }

    folder "blog" {
      [index.html] as Blog

      folder "post-1" {
        [index.html] as Post1
      }
    }

    folder "assets" {
      [styles.css]
      [app.js]
      [images]
    }
  }

  [Static File Server] --&gt; [document_root] : serves
}

actor "User" as User
actor "Search Engine" as Search

User --&gt; [Static File Server] : requests
Search --&gt; [Static File Server] : indexes
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p><strong>Explanation:</strong></p>
</div>
<div class="paragraph">
<p>The web server deployment consists of:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A static file server (e.g., Nginx, Apache, AWS S3, Netlify)</p>
</li>
<li>
<p>A document root with:</p>
<div class="ulist">
<ul>
<li>
<p>An index.html file for the root route</p>
</li>
<li>
<p>Subdirectories for each route, each with an index.html file</p>
</li>
<li>
<p>Assets directory with styles, scripts, and images</p>
</li>
</ul>
</div>
</li>
<li>
<p>Users and search engines access the static files, with users getting the full SPA experience after the initial page load.</p>
</li>
</ol>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-concepts">8. Cross-cutting Concepts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_domain_model">8.1. Domain Model</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startuml
class "Static Site Generator" as SSG {
  Renders Yew components to HTML
  Processes templates
  Applies generators
  Writes static files
}

class "Generator" as Gen {
  Produces HTML content
  May support multiple outputs
  Can access metadata
}

class "Processor" as Proc {
  Transforms HTML content
  May replace variables
  May process attributes
}

class "Template" as Templ {
  Contains placeholders
  May have special attributes
  Defines page structure
}

class "Route" as Route {
  Path in the application
  Associated component
  Metadata for SEO
}

class "Metadata" as Meta {
  Global metadata
  Route-specific metadata
  Used by generators
  Referenced in templates
}

class "Output" as Out {
  Static HTML files
  Directory structure matching routes
  Optimized for SEO
}

SSG --&gt; Gen : uses
SSG --&gt; Proc : uses
SSG --&gt; Templ : applies
SSG --&gt; Route : processes
SSG --&gt; Meta : references
SSG --&gt; Out : produces

Gen --&gt; Meta : reads
Gen --&gt; Out : contributes to
Proc --&gt; Templ : transforms
Proc --&gt; Out : contributes to
Templ --&gt; Out : shapes
Route --&gt; Meta : has
Route --&gt; Out : mapped to
@enduml</pre>
</div>
</div>
<div class="paragraph">
<p>The domain model shows the key concepts in Yew-SSG and their relationships:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Static Site Generator is the core component</p>
</li>
<li>
<p>Generators produce HTML content based on metadata</p>
</li>
<li>
<p>Processors transform HTML templates</p>
</li>
<li>
<p>Templates define the page structure with placeholders</p>
</li>
<li>
<p>Routes represent application paths with associated components</p>
</li>
<li>
<p>Metadata provides information for SEO and templating</p>
</li>
<li>
<p>Output is the static HTML files produced by the generation process</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_generator_processor_pattern">8.2. Generator-Processor Pattern</h3>
<div class="paragraph">
<p>Yew-SSG uses a two-stage approach to content generation and processing:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Generators</strong> create HTML content for specific purposes:</p>
<div class="ulist">
<ul>
<li>
<p>They follow the "Generate" trait</p>
</li>
<li>
<p>They have access to metadata, route information, and content</p>
</li>
<li>
<p>They produce HTML fragments for specific keys (e.g., "title", "meta_tags")</p>
</li>
<li>
<p>They can support multiple output keys</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Processors</strong> transform HTML:</p>
<div class="ulist">
<ul>
<li>
<p>They follow the "Processor" trait</p>
</li>
<li>
<p>They take HTML and transform it according to their rules</p>
</li>
<li>
<p>They can access metadata and generator outputs</p>
</li>
<li>
<p>They run in sequence, each taking the output of the previous processor</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This separation allows for:
* Clear responsibility boundaries
* Extensibility through custom generators and processors
* Pipeline-style processing with composition
* Reuse of components across different applications</p>
</div>
</div>
<div class="sect2">
<h3 id="_template_variable_substitution">8.3. Template Variable Substitution</h3>
<div class="paragraph">
<p>Template variables use the <code>{{variable}}</code> syntax:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Variables can reference metadata keys or generator outputs</p>
</li>
<li>
<p>Generators have priority over metadata when both exist</p>
</li>
<li>
<p>The TemplateVariableProcessor handles the substitution</p>
</li>
<li>
<p>Variables can be used in HTML templates and attribute values</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;title&gt;{{title}}&lt;/title&gt;
&lt;meta name="description" content="{{description}}"&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_attribute_based_templating">8.4. Attribute-Based Templating</h3>
<div class="paragraph">
<p>Data attributes provide a powerful way to template HTML:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>data-ssg="key"</code> - Replace element content</p>
</li>
<li>
<p><code>data-ssg-attr="key"</code> - Replace attribute value</p>
</li>
<li>
<p><code>data-ssg-placeholder="key"</code> - Replace entire element</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This approach:
* Keeps templates clean and semantic
* Allows for HTML inspection tools to work properly
* Makes templates more maintainable
* Enables complex replacements like blocks of meta tags</p>
</div>
<div class="paragraph">
<p>Example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-html" data-lang="html">&lt;div data-ssg-placeholder="meta_tags"&gt;
  &lt;!-- Will be replaced with generated meta tags --&gt;
&lt;/div&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_build_process_integration">8.5. Build Process Integration</h3>
<div class="paragraph">
<p>Yew-SSG integrates into the build process:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A separate binary target uses the library</p>
</li>
<li>
<p>It runs during the build phase, not at runtime</p>
</li>
<li>
<p>It pre-renders all routes defined in the router</p>
</li>
<li>
<p>It generates static HTML files in the output directory</p>
</li>
<li>
<p>The output can be deployed to any static file server</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This approach provides:
* Clean separation of concerns
* No runtime overhead for end users
* Simple deployment to any hosting solution
* Compatibility with CI/CD pipelines</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-design-decisions">9. Architecture Decisions</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_adr_1_trait_based_architecture_for_extensibility">9.1. ADR 1: Trait-Based Architecture for Extensibility</h3>
<div class="paragraph">
<p><strong>Context:</strong></p>
</div>
<div class="paragraph">
<p>The system needs to be extensible to support various HTML generation and processing needs across different projects.</p>
</div>
<div class="paragraph">
<p><strong>Decision:</strong></p>
</div>
<div class="paragraph">
<p>Use Rust&#8217;s trait system to define clear interfaces for generators and processors, allowing for custom implementations.</p>
</div>
<div class="paragraph">
<p><strong>Consequences:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Positive:</strong> Users can easily extend the system with custom generators and processors</p>
</li>
<li>
<p><strong>Positive:</strong> Clean separation of concerns with well-defined interfaces</p>
</li>
<li>
<p><strong>Positive:</strong> Types can implement multiple traits for different capabilities</p>
</li>
<li>
<p><strong>Negative:</strong> Slightly more complex than a function-based approach</p>
</li>
<li>
<p><strong>Negative:</strong> Requires understanding of Rust&#8217;s trait system</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_adr_2_generatorprocessor_separation">9.2. ADR 2: Generator/Processor Separation</h3>
<div class="paragraph">
<p><strong>Context:</strong></p>
</div>
<div class="paragraph">
<p>The system needs to both generate content and process HTML, which are distinct concerns.</p>
</div>
<div class="paragraph">
<p><strong>Decision:</strong></p>
</div>
<div class="paragraph">
<p>Separate content generation (Generators) from HTML transformation (Processors) with different traits and execution phases.</p>
</div>
<div class="paragraph">
<p><strong>Consequences:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Positive:</strong> Clear separation of concerns</p>
</li>
<li>
<p><strong>Positive:</strong> Generators can focus on specific content types</p>
</li>
<li>
<p><strong>Positive:</strong> Processors can transform HTML in a pipeline</p>
</li>
<li>
<p><strong>Positive:</strong> Better testability for individual components</p>
</li>
<li>
<p><strong>Negative:</strong> Requires coordination between the two systems</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_adr_3_attribute_based_templating">9.3. ADR 3: Attribute-Based Templating</h3>
<div class="paragraph">
<p><strong>Context:</strong></p>
</div>
<div class="paragraph">
<p>HTML templates need a way to include dynamic content without sacrificing validity and readability.</p>
</div>
<div class="paragraph">
<p><strong>Decision:</strong></p>
</div>
<div class="paragraph">
<p>Use HTML data attributes (<code>data-ssg-*</code>) for templating directives.</p>
</div>
<div class="paragraph">
<p><strong>Consequences:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Positive:</strong> Templates remain valid HTML</p>
</li>
<li>
<p><strong>Positive:</strong> Templates are inspectable with standard HTML tools</p>
</li>
<li>
<p><strong>Positive:</strong> Approach is intuitive for web developers</p>
</li>
<li>
<p><strong>Positive:</strong> Flexible replacement strategies (content, attributes, placeholders)</p>
</li>
<li>
<p><strong>Negative:</strong> Slightly more verbose than some alternative syntaxes</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_adr_4_metadata_driven_generation">9.4. ADR 4: Metadata-Driven Generation</h3>
<div class="paragraph">
<p><strong>Context:</strong></p>
</div>
<div class="paragraph">
<p>Different routes need different SEO content and page information.</p>
</div>
<div class="paragraph">
<p><strong>Decision:</strong></p>
</div>
<div class="paragraph">
<p>Use a metadata system with global and route-specific options to drive content generation.</p>
</div>
<div class="paragraph">
<p><strong>Consequences:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Positive:</strong> Centralized configuration of SEO information</p>
</li>
<li>
<p><strong>Positive:</strong> Ability to override global settings for specific routes</p>
</li>
<li>
<p><strong>Positive:</strong> Consistent handling of metadata across generators</p>
</li>
<li>
<p><strong>Negative:</strong> Requires careful management of metadata hierarchy</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_adr_5_builder_pattern_for_configuration">9.5. ADR 5: Builder Pattern for Configuration</h3>
<div class="paragraph">
<p><strong>Context:</strong></p>
</div>
<div class="paragraph">
<p>The system has many configuration options that need to be set up in a clear, fluent manner.</p>
</div>
<div class="paragraph">
<p><strong>Decision:</strong></p>
</div>
<div class="paragraph">
<p>Use the Builder pattern for configuration with sensible defaults.</p>
</div>
<div class="paragraph">
<p><strong>Consequences:</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Positive:</strong> Fluent, readable API for configuration</p>
</li>
<li>
<p><strong>Positive:</strong> Clear defaults with the ability to override</p>
</li>
<li>
<p><strong>Positive:</strong> Future extensibility without breaking changes</p>
</li>
<li>
<p><strong>Negative:</strong> Slightly more code than direct struct initialization</p>
</li>
</ul>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-quality-scenarios">10. Quality Requirements</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_quality_tree">10.1. Quality Tree</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startmindmap
* Quality
** SEO
*** Search Engine Visibility
*** Proper Meta Tags
*** Semantic HTML
** Performance
*** Fast Initial Load
*** Small Bundle Size
*** Efficient Generation
** Usability
*** Easy Configuration
*** Sensible Defaults
*** Clear Documentation
** Extensibility
*** Custom Generators
*** Custom Processors
*** Template Flexibility
** Maintainability
*** Clean Architecture
*** Test Coverage
*** Code Documentation
@endmindmap</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_quality_scenarios">10.2. Quality Scenarios</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 37.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Quality</th>
<th class="tableblock halign-left valign-top">Scenario</th>
<th class="tableblock halign-left valign-top">Priority</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search engines can fully index all pre-rendered content including meta tags, resulting in improved search rankings</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Social media platforms correctly display rich previews using Open Graph and Twitter Card metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Initial page load time is reduced by at least 40% compared to client-side-only rendering</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The static site generation process completes within 10 seconds for a site with 100 routes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A developer can integrate the library into an existing Yew project with less than 100 lines of additional code</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Usability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The default configuration works for common scenarios without customization</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A developer can create a custom generator to add structured data without modifying the library</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Extensibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template variables and attributes work with any valid HTML structure</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All public APIs have comprehensive documentation with examples</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q-10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Maintainability</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Test coverage exceeds 80% for all core components</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Medium</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="_detailed_quality_scenarios">10.2.1. Detailed Quality Scenarios</h4>
<div class="sect4">
<h5 id="_q_1_seo_indexability">Q-1: SEO Indexability</h5>
<div class="paragraph">
<p><strong>Scenario</strong>: A search engine bot visits a pre-rendered page from a Yew application that uses yew-ssg.</p>
</div>
<div class="paragraph">
<p><strong>Environment</strong>: Production environment</p>
</div>
<div class="paragraph">
<p><strong>Stimulus</strong>: Search engine crawler requests the page</p>
</div>
<div class="paragraph">
<p><strong>Response</strong>: The server returns a complete HTML document with all necessary meta tags, content, and semantic structure that can be fully indexed by the search engine.</p>
</div>
<div class="paragraph">
<p><strong>Quality Goal</strong>: SEO, Search Engine Visibility</p>
</div>
<div class="paragraph">
<p><strong>Business Value</strong>: Higher search rankings, increased organic traffic</p>
</div>
</div>
<div class="sect4">
<h5 id="_q_3_initial_load_performance">Q-3: Initial Load Performance</h5>
<div class="paragraph">
<p><strong>Scenario</strong>: A user visits a pre-rendered page from a Yew application that uses yew-ssg.</p>
</div>
<div class="paragraph">
<p><strong>Environment</strong>: Production environment, various network conditions</p>
</div>
<div class="paragraph">
<p><strong>Stimulus</strong>: User loads the web page for the first time</p>
</div>
<div class="paragraph">
<p><strong>Response</strong>: The browser displays meaningful content within 1 second, even on slower connections, because the initial HTML is already rendered.</p>
</div>
<div class="paragraph">
<p><strong>Quality Goal</strong>: Performance, User Experience</p>
</div>
<div class="paragraph">
<p><strong>Business Value</strong>: Lower bounce rates, improved user satisfaction, better mobile experience</p>
</div>
</div>
<div class="sect4">
<h5 id="_q_5_developer_integration_experience">Q-5: Developer Integration Experience</h5>
<div class="paragraph">
<p><strong>Scenario</strong>: A developer wants to add SSG capabilities to an existing Yew application.</p>
</div>
<div class="paragraph">
<p><strong>Environment</strong>: Development environment</p>
</div>
<div class="paragraph">
<p><strong>Stimulus</strong>: Developer adds yew-ssg to the project and implements the SSG binary</p>
</div>
<div class="paragraph">
<p><strong>Response</strong>: With less than 100 lines of additional code, the developer can generate static HTML for all routes with proper SEO metadata.</p>
</div>
<div class="paragraph">
<p><strong>Quality Goal</strong>: Usability, Developer Experience</p>
</div>
<div class="paragraph">
<p><strong>Business Value</strong>: Reduced development time, faster time-to-market</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-technical-risks">11. Risks and Technical Debts</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="_identified_risks">11.1. Identified Risks</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 12.5%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 12.5%;">
<col style="width: 25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Risk</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Impact (1-5)</th>
<th class="tableblock halign-left valign-top">Mitigation</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew Version Compatibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Changes in Yew&#8217;s SSR implementation could break compatibility</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implement comprehensive test suite with version matrix; maintain compatibility layer</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTML Processing Performance</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Complex HTML processing could slow down the build process for large sites</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Benchmark and optimize HTML transformations; consider parallel processing for independent routes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template Flexibility Limitations</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The template system may not handle all complex layout requirements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Document clear examples of limitations; provide escape hatches for custom processing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server-Side Routing Complexity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Different routing strategies in Yew applications may be difficult to support universally</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Support common patterns out of the box; provide extension points for custom routing logic</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">R-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Development/Production Parity</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Differences between development and production environments could lead to unexpected behavior</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Provide tools to test generated output in development; document common issues</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_technical_debt">11.2. Technical Debt</h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 16.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">ID</th>
<th class="tableblock halign-left valign-top">Debt</th>
<th class="tableblock halign-left valign-top">Description</th>
<th class="tableblock halign-left valign-top">Severity (1-5)</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Handling Consistency</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error handling could be more consistent across the codebase with better error types</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CSS/Asset Processing</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The library doesn&#8217;t handle CSS or other assets, leaving this to the developer</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Minimal Testing of Edge Cases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Some complex edge cases in HTML processing could have more test coverage</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Documentation Improvements</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">API documentation could be enhanced with more examples and use cases</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">D-5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Client Rehydration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The current approach requires manual coordination of client-side rehydration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_riskdebt_matrix">11.3. Risk/Debt Matrix</h3>
<div class="listingblock">
<div class="content">
<pre>Failed to generate image: Could not load PlantUML. Either require 'asciidoctor-diagram-plantuml' or specify the location of the PlantUML JAR(s) using the 'DIAGRAM_PLANTUML_CLASSPATH' environment variable. Alternatively a PlantUML binary can be provided (plantuml-native in $PATH).
@startchart
&lt;style&gt;
.medium {
  BackGroundColor #ffa500
}
.high {
  BackGroundColor #ff4500
}
.low {
  BackGroundColor #90ee90
}
&lt;/style&gt;

scale 5

concentric -5 &lt;.low&gt; "Low Impact"
concentric -3 &lt;.medium&gt; "Medium Impact"
concentric -1 &lt;.high&gt; "High Impact"

add R-1 4.0 45
add R-2 3.0 120
add R-3 2.0 190
add R-4 3.0 270
add R-5 2.0 330
add D-1 2.0 10
add D-2 3.0 80
add D-3 2.0 150
add D-4 2.0 220
add D-5 3.0 300

@endchart</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_risk_monitoring_and_mitigation_plan">11.4. Risk Monitoring and Mitigation Plan</h3>
<div class="sect3">
<h4 id="_r_1_yew_version_compatibility">11.4.1. R-1: Yew Version Compatibility</h4>
<div class="paragraph">
<p><strong>Monitoring</strong>:
* Track Yew releases and migration guides
* Run automated tests against multiple Yew versions
* Monitor community issues related to SSR changes</p>
</div>
<div class="paragraph">
<p><strong>Mitigation Actions</strong>:
* Create version-specific compatibility modules
* Document version requirements clearly
* Maintain close alignment with Yew development</p>
</div>
</div>
<div class="sect3">
<h4 id="_r_2_html_processing_performance">11.4.2. R-2: HTML Processing Performance</h4>
<div class="paragraph">
<p><strong>Monitoring</strong>:
* Benchmark generation times for different site sizes
* Profile HTML processing bottlenecks</p>
</div>
<div class="paragraph">
<p><strong>Mitigation Actions</strong>:
* Optimize critical processing paths
* Implement caching where appropriate
* Consider parallel processing for independent routes
* Provide configuration options to disable expensive processors</p>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="section-glossary">12. Glossary</h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-left valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSG</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Static Site Generator - A tool that generates static HTML files from source content, templates, and data.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SEO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Search Engine Optimization - The practice of increasing the quantity and quality of traffic to a website through organic search engine results.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Single Page Application - A web application that loads a single HTML page and dynamically updates content as the user interacts with the app.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SSR</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Server-Side Rendering - The process of rendering a normally client-side-only web application on the server and then sending the fully rendered HTML to the client.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yew</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A Rust framework for building web applications with WebAssembly, inspired by React and Elm.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WebAssembly (Wasm)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A binary instruction format for a stack-based virtual machine, designed as a portable target for compilation of high-level languages like Rust.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Generator</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In yew-ssg, a component that produces HTML content for specific purposes such as meta tags, title, etc.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Processor</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In yew-ssg, a component that transforms HTML by applying various operations such as variable substitution or attribute processing.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Template</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An HTML document with placeholders that will be replaced with actual content during the generation process.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meta Tags</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">HTML tags that provide metadata about a webpage, primarily used by search engines and social media platforms.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open Graph</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A protocol that enables any web page to become a rich object in a social graph, used by Facebook and other platforms for rich link previews.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Twitter Cards</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Meta tags that add rich media to tweets when links are shared on Twitter.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rehydration</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The process where a client-side JavaScript application takes over a server-rendered HTML page, adding interactivity.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Route</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A path in a web application that corresponds to a specific view or page.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Attribute-based Templating</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A templating approach that uses HTML attributes (like data-ssg) to mark elements for processing or replacement.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Metadata</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data about the content, such as title, description, keywords, used for SEO and other purposes.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Builder Pattern</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A design pattern that provides a fluent interface for constructing complex objects step by step.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Trait</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In Rust, a collection of methods defined for an unknown type, similar to interfaces in other languages.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Version 0.1.0<br>
Last updated 2025-08-16 07:19:31 UTC
</div>
</div>
</body>
</html>